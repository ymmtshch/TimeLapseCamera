# 📷 タイムラプスカメラアプリ（クラウド対応）

このアプリは、WebRTCとStreamlitを使用してタイムラプス動画の作成を行うインタラクティブなツールです。一定の間隔で画像をキャプチャし、保存した画像をzip形式またはGIFアニメーションとしてダウンロードできます。

## 📄 概要

本アプリケーションの主な機能：
- WebRTCを用いたリアルタイムビデオストリーム
- ユーザーが指定した撮影間隔での自動キャプチャ
- 画像のプレフィックス設定機能（名前を自由に設定可能）
- 保存した画像のzip形式での一括ダウンロード
- 撮影した画像をGIFアニメーションに変換してダウンロード

---

## 🚀 アプリの使用方法

### 1. 撮影間隔の設定
サイドバーから撮影間隔（秒単位）を設定し、画像ファイル名のプレフィックスも入力してください。

### 2. WebRTCストリームの開始
アプリケーションの中心にあるボタンを押してWebRTCストリームを開始します。

### 3. 画像の保存とダウンロード
キャプチャされた画像は自動的に保存されます。ストリーム終了後、以下のダウンロードオプションを利用できます：
- **zip形式でダウンロード**: すべての画像をまとめて一括ダウンロード。
- **GIFアニメーションでダウンロード**: すべてのキャプチャ画像をGIFに変換し、アニメーションとしてダウンロード。

---

## 💻 ローカルでの実行方法（初心者向け）

### 1. Pythonをインストールする
1. [公式Pythonダウンロードページ](https://www.python.org/)にアクセスします。
2. 最新の安定版Pythonをダウンロードし、インストールしてください。
3. インストール時に「Add Python to PATH」にチェックを入れてください。

### 2. ファイルを準備する
1. **main.py**ファイルをダウンロードし、任意のフォルダに保存します。
2. 同じフォルダに`requirements.txt`も用意してください（もしくはダウンロード）。

### 3. コマンドプロンプトを開く
1. キーボードの `Windowsキー + R` を押して「ファイル名を指定して実行」を開きます。
2. `cmd` と入力して `Enter` を押し、コマンドプロンプトを起動します。

### 4. 実行するフォルダに移動する
`cd` コマンドを使用して、`main.py`を保存したフォルダに移動します。
```bash
cd フォルダのパス
```
#### 例: C:\Users\YourName\Documents\timelapse_app

### 5. 必要なライブラリをインストールする
以下のコマンドを実行して、アプリに必要なライブラリをインストールします。
```bash
pip install -r requirements.txt
```

### 6. アプリを起動する
以下のコマンドでアプリを起動します。
```bash
python -m streamlit run main.py
```
実行後、コマンドプロンプトにURLが表示されます。
このURLをクリックするか、ブラウザにコピーして貼り付けると、アプリが起動します。

## 🛠️ 主な関数の説明
#### recv(frame)
WebRTCのビデオフレームを受信し、一定の間隔で画像を保存する処理を行います。
#### make_archive()
保存された画像をzip形式でアーカイブする関数です。
#### generate_gif()
キャプチャされた画像からGIFアニメーションを作成するための関数です。

## 📦 ファイル構成
-キャプチャ間隔は1秒から3600秒までの間で設定可能です。
・GIF作成時の画像サイズは、最初のキャプチャ画像に基づいて調整されます。
*すべてのキャプチャ画像は、実行ディレクトリのtimelapse_images/フォルダに保存されます。

## 🌟 注意事項
キャプチャ間隔は1秒から3600秒までの間で設定可能です。
GIF作成時の画像サイズは、最初のキャプチャ画像に基づいて調整されます。
すべてのキャプチャ画像は、実行ディレクトリのtimelapse_images/フォルダに保存されます。

## 📜 ライセンス
このプロジェクトのライセンスはMITライセンスです、詳細はLICENSE.txtをご覧ください。
