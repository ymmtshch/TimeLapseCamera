# 📷 タイムラプスカメラアプリ（クラウド対応）

このアプリは、WebRTCとStreamlitを使用してタイムラプス動画の作成を行うインタラクティブなツールです。一定の間隔で画像をキャプチャし、保存した画像をzip形式またはGIFアニメーションとしてダウンロードできます。

## 📄 概要

本アプリケーションの主な機能：
- WebRTCを用いたリアルタイムビデオストリーム
- ユーザーが指定した撮影間隔での自動キャプチャ
- 画像のプレフィックス設定機能（名前を自由に設定可能）
- 保存した画像のzip形式での一括ダウンロード
- 撮影した画像をGIFアニメーションに変換してダウンロード

## 🚀 アプリの使用方法

### 1. 撮影間隔の設定
サイドバーから撮影間隔（秒単位）を設定し、画像ファイル名のプレフィックスも入力してください。

### 2. WebRTCストリームの開始
アプリケーションの中心にあるボタンを押してWebRTCストリームを開始します。

### 3. 画像の保存とダウンロード
キャプチャされた画像は自動的に保存されます。ストリーム終了後、以下のダウンロードオプションを利用できます：
- **zip形式でダウンロード**: すべての画像をまとめて一括ダウンロード。
- **GIFアニメーションでダウンロード**: すべてのキャプチャ画像をGIFに変換し、アニメーションとしてダウンロード。

## 💻 ローカルでの実行方法

アプリをローカル環境で実行するには、以下の手順に従ってください。

### 1. 環境のセットアップ
以下のコマンドで必要なPythonパッケージをインストールしてください。

```bash
pip install -r requirements.txt
```

### 2. アプリの起動
Streamlitを使用してアプリを起動します。
```bash
streamlit run main.py
```

## 🛠️ 主な関数の説明
#### recv(frame)
WebRTCのビデオフレームを受信し、一定の間隔で画像を保存する処理を行います。
#### make_archive()
保存された画像をzip形式でアーカイブする関数です。
#### generate_gif()
キャプチャされた画像からGIFアニメーションを作成するための関数です。

## 📦 ファイル構成
-キャプチャ間隔は1秒から3600秒までの間で設定可能です。
・GIF作成時の画像サイズは、最初のキャプチャ画像に基づいて調整されます。
*すべてのキャプチャ画像は、実行ディレクトリのtimelapse_images/フォルダに保存されます。

## 📜 ライセンス
このプロジェクトは MITライセンス に基づいて提供されています。
